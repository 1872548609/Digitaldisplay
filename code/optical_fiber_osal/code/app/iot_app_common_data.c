/**************************************************************************************************
Filename:       iot_app_common_data.c
Revised:        $Date: 2019-8-20 15:35
Revision:       $Revision: V1.0.0

Description:

Copyright 2021 uwaycon. All rights reserved.
                                                
**************************************************-*****************^******************************/
#include "main.h"

#ifdef __cplusplus
extern "C"
{
#endif

#ifdef _IOT_APP_COMMON_DATA_H
/*************************************************-*************************************************
*                                               NOTE
**************************************************-*****************^******************************/
//-- source insight use UTF-8 to encode, File->Reload As Encoding...->UTF-8
//-- source insight set default encode, Option->Preferences->Files->Default encoding->UTF-8

/*************************************************-*************************************************
*                                             INCLUDES
**************************************************-*****************^******************************/

/*************************************************-*************************************************
*                                               MACRO
**************************************************-*****************^******************************/

/*************************************************-*************************************************
*                                          CONSTANT DEFINED
**************************************************-*****************^******************************/

/*************************************************-*************************************************
*                                           STRUCT DEFINED
**************************************************-*****************^******************************/

/*************************************************-*************************************************
*                                          GLOBAL VARIABLES
**************************************************-*****************^******************************/
uint16 iot_app_optical_current_adc_value = 0;
uint32 iot_app_optical_current_lux = 0;
uint16 iot_app_optical_delta_adc_value = 0;
uint32 iot_app_optical_delta_voltage_mv = 0;
uint16 iot_app_vdd_current_adc_value = 4095;

// 需要记录flash的变量
int8   iot_app_optical_current_att = 100;   //-- 0 - 100
int8   iot_app_optical_auto_adjust_att = 100;

uint16_t thresholdValue = 0; // adc阈值

uint8_t outmodeset = 0 ; // 输出模式切换，0 入光 1遮光
uint8_t  iot_app_optical_current_mode = IOT_APP_OPTICAL_MODE_HIGH_SPEED;
uint32_t iot_app_optical_current_sta = 0 ;// 0~ 9999

uint8_t adc_update_en = 0 ;// 是否刷新adc
uint8_t threshold_update_en = 0;// 是否刷新阈值显示


// 主状态
uint8_t systemstate =1; // 1 运行模式 2 菜单 3 出厂设置
/*************************************************-*************************************************
*                                          LOCAL VARIABLES
**************************************************-*****************^******************************/

/*************************************************-*************************************************
*                                          LOCAL VARIABLES
**************************************************-*****************^******************************/

/*************************************************-*************************************************
*                                             FUNCTIONS
**************************************************-*****************^******************************/

/*************************************************-*************************************************
*                                             FUNCTIONS
**************************************************-*****************^******************************/

/*************************************************-*************************************************
*                                                END
**************************************************-*****************^******************************/
#ifdef __cplusplus
}
#endif
#endif 

